âœ… ä¿®æ­£å¾Œç‰ˆæœ¬ï¼ˆç›´æ¥æ¥æ”¶ä¸¦é¡¯ç¤ºæ˜ç¢¼è³‡æ–™ï¼‰
ğŸ”§ Flask ç¨‹å¼ï¼ˆä¸»é«”é‚è¼¯ï¼‰ï¼š
python
è¤‡è£½
ç·¨è¼¯
from flask import Flask, request, render_template_string
from urllib.parse import parse_qs

app = Flask(__name__)

@app.route("/json_view", methods=["GET", "POST"])
def json_view():
    raw_data = ""
    parsed_dict = {}

    if request.method == "POST":
        # å°æ–¹ä»¥ POST å‚³é€æ˜ç¢¼å­—ä¸²ï¼ˆä¾‹å¦‚ form æˆ– raw bodyï¼‰
        raw_data = request.get_data(as_text=True)
    elif request.method == "GET":
        # å¦‚æœå°æ–¹æ˜¯ä»¥ GET å‚³é€ query string
        raw_data = request.query_string.decode("utf-8")

    # ä½¿ç”¨ urllib è§£ææ˜ç¢¼ç‚ºå­—å…¸
    parsed_qs = parse_qs(raw_data)
    parsed_dict = {k: v[0] if len(v) == 1 else v for k, v in parsed_qs.items()}

    html_template = """
    <h2>æ”¶åˆ°çš„åŸå§‹è³‡æ–™ï¼š</h2>
    <pre>{{ raw_data }}</pre>

    <h2>è§£æå¾Œçš„ JSON çµæ§‹ï¼š</h2>
    <pre>{{ parsed_dict | tojson(indent=2, ensure_ascii=False) }}</pre>
    """

    return render_template_string(html_template, raw_data=raw_data, parsed_dict=parsed_dict)

if __name__ == "__main__":
    app.run(debug=True)
ğŸ§ª æ¸¬è©¦æ–¹å¼ï¼ˆæ¨¡æ“¬å°æ–¹é€è³‡æ–™éä¾†ï¼‰
âœ… æ¸¬è©¦ 1ï¼šGET è«‹æ±‚
ç¶²å€è¼¸å…¥ï¼š

bash
è¤‡è£½
ç·¨è¼¯
http://localhost:5000/json_view?account=admin&page=2&start_at=2025-07-01
æœƒé¡¯ç¤ºï¼š

json
è¤‡è£½
ç·¨è¼¯
{
  "account": "admin",
  "page": "2",
  "start_at": "2025-07-01"
}
âœ… æ¸¬è©¦ 2ï¼šPOST è«‹æ±‚ï¼ˆæ˜ç¢¼å…§å®¹ï¼‰
ä½ å¯ä»¥ç”¨ curl æˆ– Postman æ¨¡æ“¬å°æ–¹ POSTï¼š

bash
è¤‡è£½
ç·¨è¼¯
curl -X POST http://localhost:5000/json_view \
     -H "Content-Type: application/x-www-form-urlencoded" \
     --data "account=admin&limit=10&page=5"
âœ… å°çµ
åŠŸèƒ½	èªªæ˜
âœ… æ”¯æ´ GET/POST	å°æ–¹æ€éº¼å‚³ä½ éƒ½èƒ½æ¥
âœ… æ˜ç¢¼è‡ªå‹•è§£æ	ç”¨ parse_qs è™•ç†æ‰€æœ‰ URL ç·¨ç¢¼
âœ… è¼¸å‡º JSON æ ¼å¼è¦–è¦ºåŒ–	ç”¨ tojson åœ¨ HTML é é¢é¡¯ç¤º
